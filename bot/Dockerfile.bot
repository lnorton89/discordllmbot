FROM node:20-alpine

WORKDIR /usr/src/app

# Copy all package.json files for workspaces
COPY package*.json ./
COPY bot/package*.json ./bot/
COPY dashboard/package*.json ./dashboard/
COPY shared/package*.json ./shared/
COPY docs/package*.json ./docs/

# Install dependencies for all workspaces
RUN npm install

WORKDIR /usr/src/app/bot
EXPOSE 3000
CMD ["npm", "start"]